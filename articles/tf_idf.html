<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Term Frequency and Inverse Document Frequency (tf-idf) Using Tidy Data Principles • tidytext</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Term Frequency and Inverse Document Frequency (tf-idf) Using Tidy Data Principles">
<meta property="og:description" content="tidytext">
<meta property="og:image" content="/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">tidytext</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.4.1.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/tidytext.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/topic_modeling.html">Tidy Topic Modeling</a>
    </li>
    <li>
      <a href="../articles/tf_idf.html">Term Frequency and Inverse Document Frequency (tf-idf) Using Tidy Data Principles</a>
    </li>
    <li>
      <a href="../articles/tidying_casting.html">Converting to and from Document-Term Matrix and Corpus objects</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/juliasilge/tidytext/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Term Frequency and Inverse Document Frequency
(tf-idf) Using Tidy Data Principles</h1>
                        <h4 data-toc-skip class="author">Julia Silge and
David Robinson</h4>
            
            <h4 data-toc-skip class="date">2023-03-23</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/juliasilge/tidytext/blob/HEAD/vignettes/tf_idf.Rmd" class="external-link"><code>vignettes/tf_idf.Rmd</code></a></small>
      <div class="hidden name"><code>tf_idf.Rmd</code></div>

    </div>

    
    
<p>A central question in text mining and natural language processing is
how to quantify what a document is about. Can we do this by looking at
the words that make up the document? One measure of how important a word
may be is its <em>term frequency</em> (tf), how frequently a word occurs
in a document. There are words in a document, however, that occur many
times but may not be important; in English, these are probably words
like “the”, “is”, “of”, and so forth. We might take the approach of
adding words like these to a list of stop words and removing them before
analysis, but it is possible that some of these words might be more
important in some documents than others. A list of stop words is not a
sophisticated approach to adjusting term frequency for commonly used
words.</p>
<p>Another approach is to look at a term’s <em>inverse document
frequency</em> (idf), which decreases the weight for commonly used words
and increases the weight for words that are not used very much in a
collection of documents. This can be combined with term frequency to
calculate a term’s <em>tf-idf</em>, the frequency of a term adjusted for
how rarely it is used. It is intended to measure how important a word is
to a document in a collection (or corpus) of documents. It is a
rule-of-thumb or heuristic quantity; while it has proved useful in text
mining, search engines, etc., its theoretical foundations are considered
less than firm by information theory experts. The inverse document
frequency for any given term is defined as</p>
<p><span class="math display">\[idf(\text{term}) =
\ln{\left(\frac{n_{\text{documents}}}{n_{\text{documents containing
term}}}\right)}\]</span></p>
<p>We can use tidy data principles, as described in <a href="tidytext.html">the main vignette</a>, to approach tf-idf analysis
and use consistent, effective tools to quantify how important various
terms are in a document that is part of a collection.</p>
<p>Let’s look at the published novels of Jane Austen and examine first
term frequency, then tf-idf. We can start just by using dplyr verbs such
as <code>group_by</code> and <code>join</code>. What are the most
commonly used words in Jane Austen’s novels? (Let’s also calculate the
total words in each novel here, for later use.)</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/juliasilge/janeaustenr" class="external-link">janeaustenr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/juliasilge/tidytext" class="external-link">tidytext</a></span><span class="op">)</span></span>
<span><span class="va">book_words</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/janeaustenr/man/austen_books.html" class="external-link">austen_books</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/unnest_tokens.html">unnest_tokens</a></span><span class="op">(</span><span class="va">word</span>, <span class="va">text</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/count.html" class="external-link">count</a></span><span class="op">(</span><span class="va">book</span>, <span class="va">word</span>, sort <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="va">total_words</span> <span class="op">&lt;-</span> <span class="va">book_words</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">book</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarize</a></span><span class="op">(</span>total <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">n</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">book_words</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">left_join</a></span><span class="op">(</span><span class="va">book_words</span>, <span class="va">total_words</span><span class="op">)</span></span>
<span><span class="va">book_words</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 40,379 × 4</span></span></span>
<span><span class="co">##    book              word      n  total</span></span>
<span><span class="co">##    <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>             <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 1</span> Mansfield Park    the    <span style="text-decoration: underline;">6</span>206 <span style="text-decoration: underline;">160</span>460</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 2</span> Mansfield Park    to     <span style="text-decoration: underline;">5</span>475 <span style="text-decoration: underline;">160</span>460</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 3</span> Mansfield Park    and    <span style="text-decoration: underline;">5</span>438 <span style="text-decoration: underline;">160</span>460</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 4</span> Emma              to     <span style="text-decoration: underline;">5</span>239 <span style="text-decoration: underline;">160</span>996</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 5</span> Emma              the    <span style="text-decoration: underline;">5</span>201 <span style="text-decoration: underline;">160</span>996</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 6</span> Emma              and    <span style="text-decoration: underline;">4</span>896 <span style="text-decoration: underline;">160</span>996</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 7</span> Mansfield Park    of     <span style="text-decoration: underline;">4</span>778 <span style="text-decoration: underline;">160</span>460</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 8</span> Pride &amp; Prejudice the    <span style="text-decoration: underline;">4</span>331 <span style="text-decoration: underline;">122</span>204</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 9</span> Emma              of     <span style="text-decoration: underline;">4</span>291 <span style="text-decoration: underline;">160</span>996</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">10</span> Pride &amp; Prejudice to     <span style="text-decoration: underline;">4</span>162 <span style="text-decoration: underline;">122</span>204</span></span>
<span><span class="co">## <span style="color: #949494;"># … with 40,369 more rows</span></span></span></code></pre>
<p>The usual suspects are here, “the”, “and”, “to”, and so forth. Let’s
look at the distribution of <code>n/total</code> for each novel, the
number of times a word appears in a novel divided by the total number of
terms (words) in that novel. This is exactly what term frequency is.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">book_words</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">n</span><span class="op">/</span><span class="va">total</span>, fill <span class="op">=</span> <span class="va">book</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_histogram.html" class="external-link">geom_histogram</a></span><span class="op">(</span>show.legend <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html" class="external-link">scale_x_continuous</a></span><span class="op">(</span>limits <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">NA</span>, <span class="fl">0.0009</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html" class="external-link">facet_wrap</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/vars.html" class="external-link">vars</a></span><span class="op">(</span><span class="va">book</span><span class="op">)</span>, ncol <span class="op">=</span> <span class="fl">2</span>, scales <span class="op">=</span> <span class="st">"free_y"</span><span class="op">)</span></span></code></pre></div>
<p><img src="tf_idf_files/figure-html/unnamed-chunk-4-1.png" alt="Histograms for word counts in Jane Austen's novels" width="672"></p>
<p>There are very long tails to the right for these novels (those
extremely common words!) that we have not shown in these plots. These
plots exhibit similar distributions for all the novels, with many words
that occur rarely and fewer words that occur frequently. The idea of
tf-idf is to find the important words for the content of each document
by decreasing the weight for commonly used words and increasing the
weight for words that are not used very much in a collection or corpus
of documents, in this case, the group of Jane Austen’s novels as a
whole. Calculating tf-idf attempts to find the words that are important
(i.e., common) in a text, but not <em>too</em> common. Let’s do that
now.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">book_words</span> <span class="op">&lt;-</span> <span class="va">book_words</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/bind_tf_idf.html">bind_tf_idf</a></span><span class="op">(</span><span class="va">word</span>, <span class="va">book</span>, <span class="va">n</span><span class="op">)</span></span>
<span><span class="va">book_words</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 40,379 × 7</span></span></span>
<span><span class="co">##    book              word      n  total     tf   idf tf_idf</span></span>
<span><span class="co">##    <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>             <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 1</span> Mansfield Park    the    <span style="text-decoration: underline;">6</span>206 <span style="text-decoration: underline;">160</span>460 0.038<span style="text-decoration: underline;">7</span>     0      0</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 2</span> Mansfield Park    to     <span style="text-decoration: underline;">5</span>475 <span style="text-decoration: underline;">160</span>460 0.034<span style="text-decoration: underline;">1</span>     0      0</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 3</span> Mansfield Park    and    <span style="text-decoration: underline;">5</span>438 <span style="text-decoration: underline;">160</span>460 0.033<span style="text-decoration: underline;">9</span>     0      0</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 4</span> Emma              to     <span style="text-decoration: underline;">5</span>239 <span style="text-decoration: underline;">160</span>996 0.032<span style="text-decoration: underline;">5</span>     0      0</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 5</span> Emma              the    <span style="text-decoration: underline;">5</span>201 <span style="text-decoration: underline;">160</span>996 0.032<span style="text-decoration: underline;">3</span>     0      0</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 6</span> Emma              and    <span style="text-decoration: underline;">4</span>896 <span style="text-decoration: underline;">160</span>996 0.030<span style="text-decoration: underline;">4</span>     0      0</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 7</span> Mansfield Park    of     <span style="text-decoration: underline;">4</span>778 <span style="text-decoration: underline;">160</span>460 0.029<span style="text-decoration: underline;">8</span>     0      0</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 8</span> Pride &amp; Prejudice the    <span style="text-decoration: underline;">4</span>331 <span style="text-decoration: underline;">122</span>204 0.035<span style="text-decoration: underline;">4</span>     0      0</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 9</span> Emma              of     <span style="text-decoration: underline;">4</span>291 <span style="text-decoration: underline;">160</span>996 0.026<span style="text-decoration: underline;">7</span>     0      0</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">10</span> Pride &amp; Prejudice to     <span style="text-decoration: underline;">4</span>162 <span style="text-decoration: underline;">122</span>204 0.034<span style="text-decoration: underline;">1</span>     0      0</span></span>
<span><span class="co">## <span style="color: #949494;"># … with 40,369 more rows</span></span></span></code></pre>
<p>Notice that idf and thus tf-idf are zero for these extremely common
words. These are all words that appear in all six of Jane Austen’s
novels, so the idf term (which will then be the natural log of 1) is
zero. The inverse document frequency (and thus tf-idf) is very low (near
zero) for words that occur in many of the documents in a collection;
this is how this approach decreases the weight for common words. The
inverse document frequency will be a higher number for words that occur
in fewer of the documents in the collection. Let’s look at terms with
high tf-idf in Jane Austen’s works.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">book_words</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="op">-</span><span class="va">total</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html" class="external-link">arrange</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/desc.html" class="external-link">desc</a></span><span class="op">(</span><span class="va">tf_idf</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 40,379 × 6</span></span></span>
<span><span class="co">##    book                word          n      tf   idf  tf_idf</span></span>
<span><span class="co">##    <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>               <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 1</span> Sense &amp; Sensibility elinor      623 0.005<span style="text-decoration: underline;">19</span>  1.79 0.009<span style="text-decoration: underline;">31</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 2</span> Sense &amp; Sensibility marianne    492 0.004<span style="text-decoration: underline;">10</span>  1.79 0.007<span style="text-decoration: underline;">35</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 3</span> Mansfield Park      crawford    493 0.003<span style="text-decoration: underline;">07</span>  1.79 0.005<span style="text-decoration: underline;">51</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 4</span> Pride &amp; Prejudice   darcy       373 0.003<span style="text-decoration: underline;">05</span>  1.79 0.005<span style="text-decoration: underline;">47</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 5</span> Persuasion          elliot      254 0.003<span style="text-decoration: underline;">04</span>  1.79 0.005<span style="text-decoration: underline;">44</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 6</span> Emma                emma        786 0.004<span style="text-decoration: underline;">88</span>  1.10 0.005<span style="text-decoration: underline;">36</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 7</span> Northanger Abbey    tilney      196 0.002<span style="text-decoration: underline;">52</span>  1.79 0.004<span style="text-decoration: underline;">52</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 8</span> Emma                weston      389 0.002<span style="text-decoration: underline;">42</span>  1.79 0.004<span style="text-decoration: underline;">33</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 9</span> Pride &amp; Prejudice   bennet      294 0.002<span style="text-decoration: underline;">41</span>  1.79 0.004<span style="text-decoration: underline;">31</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;">10</span> Persuasion          wentworth   191 0.002<span style="text-decoration: underline;">28</span>  1.79 0.004<span style="text-decoration: underline;">09</span></span></span>
<span><span class="co">## <span style="color: #949494;"># … with 40,369 more rows</span></span></span></code></pre>
<p>Here we see all proper nouns, names that are in fact important in
these novels. None of them occur in all of novels, and they are
important, characteristic words for each text. Some of the values for
idf are the same for different terms because there are 6 documents in
this corpus and we are seeing the numerical value for <span class="math inline">\(\ln(6/1)\)</span>, <span class="math inline">\(\ln(6/2)\)</span>, etc. Let’s look specifically at
<em>Pride and Prejudice</em>.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">book_words</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">book</span> <span class="op">==</span> <span class="st">"Pride &amp; Prejudice"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="op">-</span><span class="va">total</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html" class="external-link">arrange</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/desc.html" class="external-link">desc</a></span><span class="op">(</span><span class="va">tf_idf</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 6,538 × 6</span></span></span>
<span><span class="co">##    book              word          n       tf   idf  tf_idf</span></span>
<span><span class="co">##    <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>             <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 1</span> Pride &amp; Prejudice darcy       373 0.003<span style="text-decoration: underline;">05</span>  1.79  0.005<span style="text-decoration: underline;">47</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 2</span> Pride &amp; Prejudice bennet      294 0.002<span style="text-decoration: underline;">41</span>  1.79  0.004<span style="text-decoration: underline;">31</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 3</span> Pride &amp; Prejudice bingley     257 0.002<span style="text-decoration: underline;">10</span>  1.79  0.003<span style="text-decoration: underline;">77</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 4</span> Pride &amp; Prejudice elizabeth   597 0.004<span style="text-decoration: underline;">89</span>  0.693 0.003<span style="text-decoration: underline;">39</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 5</span> Pride &amp; Prejudice wickham     162 0.001<span style="text-decoration: underline;">33</span>  1.79  0.002<span style="text-decoration: underline;">38</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 6</span> Pride &amp; Prejudice collins     156 0.001<span style="text-decoration: underline;">28</span>  1.79  0.002<span style="text-decoration: underline;">29</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 7</span> Pride &amp; Prejudice lydia       133 0.001<span style="text-decoration: underline;">09</span>  1.79  0.001<span style="text-decoration: underline;">95</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 8</span> Pride &amp; Prejudice lizzy        95 0.000<span style="text-decoration: underline;">777</span> 1.79  0.001<span style="text-decoration: underline;">39</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 9</span> Pride &amp; Prejudice longbourn    88 0.000<span style="text-decoration: underline;">720</span> 1.79  0.001<span style="text-decoration: underline;">29</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;">10</span> Pride &amp; Prejudice gardiner     84 0.000<span style="text-decoration: underline;">687</span> 1.79  0.001<span style="text-decoration: underline;">23</span></span></span>
<span><span class="co">## <span style="color: #949494;"># … with 6,528 more rows</span></span></span></code></pre>
<p>These words are, as measured by tf-idf, the most important to
<em>Pride and Prejudice</em> and most readers would likely agree.</p>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by David Robinson, Julia Silge.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
